[INFO] [2017-08-10 11:14:27][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 11:14:27][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 11:14:27][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 11:14:28][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 11:14:29][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:14:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:14:29][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 11:14:29][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 11:14:31][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 11:14:31][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 11:14:31][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 11:14:31][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 11:14:31][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 11:14:31][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k32z2rbm7ya5|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k32z2rbm7ya5|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 11:14:34][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 11:14:34][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 11:14:34][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 11:14:34][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 11:14:34][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 11:14:34][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 11:14:34][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 11:14:35][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 11:14:36][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 11:14:36][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k32z2rbm7ya5|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k32z2rbm7ya5|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 11:14:37][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:14:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:14:37][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:14:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:14:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 11:14:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 11:14:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 11:14:37][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:14:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:15:51][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 11:15:51][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 11:15:52][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 11:15:52][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 11:15:52][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:15:52 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:15:52][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 11:15:52][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 11:15:53][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 11:15:53][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 11:15:53][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 11:15:53][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 11:15:53][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 11:15:53][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k34r9kewlhtz|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k34r9kewlhtz|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 11:15:54][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 11:15:54][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 11:15:54][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 11:15:54][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user, version]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555554]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, version, tax_rate]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555555, index33555563]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [buyer_name, remark, buyer_id, total_tax, version, invoice_date, invoice_code, total, seller_name, total_amount, invoice_id, id, seller_id]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555557, index33555560]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, version, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555559, index33555564, index33555561, index33555562]
[INFO] [2017-08-10 11:15:55][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 11:15:55][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k34r9kewlhtz|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k34r9kewlhtz|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 11:15:56][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:15:52 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:15:56][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:15:52 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:15:56][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 11:15:56][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 11:15:56][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 11:15:56][org.hld.invoice.test.UserDaoTest]User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:15:56 CST 2017, verifyTime=Thu Aug 10 11:15:56 CST 2017, image=null, version=0, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:15:56][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:15:52 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:31:19][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 11:31:19][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 11:31:19][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 11:31:19][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 11:31:20][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:31:20 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:31:20][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 11:31:20][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 11:31:20][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 11:31:21][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 11:31:21][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 11:31:21][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 11:31:21][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 11:31:21][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k3on0kqvwn8a|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k3on0kqvwn8a|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 11:31:22][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 11:31:22][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 11:31:22][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 11:31:22][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user, version]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555554]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, version, tax_rate]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555555, index33555563]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [buyer_name, remark, buyer_id, total_tax, version, invoice_date, invoice_code, total, seller_name, total_amount, invoice_id, id, seller_id]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555557, index33555565]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, version, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 11:31:22][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555559, index33555564, index33555561, index33555562]
[INFO] [2017-08-10 11:31:23][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 11:31:23][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k3on0kqvwn8a|2dde1bff, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k3on0kqvwn8a|2dde1bff, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 11:31:23][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:31:20 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:31:23][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:31:20 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:31:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 11:31:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 11:31:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 11:31:23][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:31:23 CST 2017, verifyTime=Thu Aug 10 11:31:23 CST 2017, image=null, version=0, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:31:23][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:31:20 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:49:32][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 11:49:32][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 11:49:33][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 11:49:33][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 11:49:33][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:49:33 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:49:33][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 11:49:34][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 11:49:34][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 11:49:34][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 11:49:34][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 11:49:34][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 11:49:34][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 11:49:34][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k4c2u14ufevs|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k4c2u14ufevs|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 11:49:35][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 11:49:35][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 11:49:35][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 11:49:35][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user, version]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555554]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, version, tax_rate]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555555, index33555563]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [buyer_name, remark, buyer_id, total_tax, version, invoice_date, invoice_code, total, seller_name, total_amount, invoice_id, id, seller_id]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555557, index33555566]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, version, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555559, index33555564, index33555561, index33555562]
[INFO] [2017-08-10 11:49:36][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 11:49:36][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k4c2u14ufevs|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k4c2u14ufevs|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 11:49:37][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:49:33 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:49:37][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:49:33 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 11:49:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 11:49:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 11:49:37][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 11:49:37][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:49:37 CST 2017, verifyTime=Thu Aug 10 11:49:37 CST 2017, image=null, version=0, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:49:37][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:49:37 CST 2017, verifyTime=Thu Aug 10 11:49:37 CST 2017, image=null, version=0, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:49:37][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:49:37 CST 2017, verifyTime=Thu Aug 10 11:49:37 CST 2017, image=null, version=0, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:49:37][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:49:37 CST 2017, verifyTime=Thu Aug 10 11:49:37 CST 2017, image=null, version=0, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:49:37][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 11:49:37 CST 2017, verifyTime=Thu Aug 10 11:49:37 CST 2017, image=null, version=0, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false, version=0))
[INFO] [2017-08-10 11:49:37][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 11:49:33 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:43:10][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:43:10][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:43:10][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:43:11][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:43:11][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:43:11 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:43:11][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:43:11][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:43:12][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:43:12][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:43:12][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:43:12][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:43:12][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:43:13][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8e7gq1xflsd2|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8e7gq1xflsd2|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:43:13][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:43:13][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:43:13][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:43:13][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:43:14][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:43:14][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:43:14][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:43:14][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:43:14][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:43:14][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8e7gq1xflsd2|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8e7gq1xflsd2|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:43:14][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:43:11 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:43:15][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:43:11 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:43:15][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:43:15][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:43:15][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:43:15 CST 2017, verifyTime=Thu Aug 10 13:43:15 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:43:15.277, verifyTime=2017-08-10 13:43:15.277, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:43:15.277, verifyTime=2017-08-10 13:43:15.277, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:43:15.277, verifyTime=2017-08-10 13:43:15.277, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:43:15.277, verifyTime=2017-08-10 13:43:15.277, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 13:43:15][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:43:15.277, verifyTime=2017-08-10 13:43:15.277, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 13:43:15][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:43:15][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 13:43:15][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:43:11 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:44:04][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:44:04][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:44:04][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:44:04][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:44:04][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:44:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:44:05][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:44:05][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:44:06][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:44:06][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:44:06][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:44:06][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:44:06][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:44:06][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8fctsi7x7j5|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8fctsi7x7j5|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:44:07][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:44:07][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:44:07][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:44:07][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555568]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555569, index33555577]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555571, index33555574]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 13:44:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555575, index33555576, index33555578, index33555573]
[INFO] [2017-08-10 13:44:08][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:44:08][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8fctsi7x7j5|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8fctsi7x7j5|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:44:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:44:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:44:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:44:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:44:09][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:44:09][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:44:09][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:44:09][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:44:09 CST 2017, verifyTime=Thu Aug 10 13:44:09 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 13:44:09][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:44:09][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 13:44:09][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:44:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:02][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:55:02][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:55:02][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:55:02][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:55:02][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:02 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:02][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:55:03][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:55:03][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:55:03][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:55:03][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:55:03][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:55:03][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:55:04][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8tg9x1w22soe|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8tg9x1w22soe|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:55:04][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:55:04][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:55:04][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:55:04][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:55:05][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:55:05][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:55:05][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:55:05][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:55:05][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:55:05][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8tg9x1w22soe|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8tg9x1w22soe|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:55:06][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:02 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:06][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:02 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:55:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:55:06][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:06][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:06 CST 2017, verifyTime=Thu Aug 10 13:55:06 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:55:06.4, verifyTime=2017-08-10 13:55:06.4, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:55:06.4, verifyTime=2017-08-10 13:55:06.4, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:55:06.4, verifyTime=2017-08-10 13:55:06.4, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:55:06.4, verifyTime=2017-08-10 13:55:06.4, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 13:55:07][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:55:06.4, verifyTime=2017-08-10 13:55:06.4, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 13:55:07][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:55:07][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 13:55:07][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:02 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:54][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:55:54][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:55:54][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:55:54][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:55:54][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:54 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:55][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:55:55][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:55:55][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:55:56][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:55:56][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:55:56][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:55:56][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:55:56][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8ukj373nz2|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8ukj373nz2|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:55:56][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:55:56][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:55:57][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:55:57][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555580]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555589, index33555581]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555586, index33555583]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555587, index33555588, index33555585, index33555590]
[INFO] [2017-08-10 13:55:57][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:55:57][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8ukj373nz2|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8ukj373nz2|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:55:58][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:54 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:58][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:54 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:55:58][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:55:58][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:55:58][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:55:58][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:55:58 CST 2017, verifyTime=Thu Aug 10 13:55:58 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 13:55:58][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:55:58][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 13:55:58][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 13:55:59][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:55:54 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:57:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:57:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:57:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:57:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:57:08][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:57:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:57:08][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:57:08][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:57:08][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:57:09][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:57:09][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:57:09][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:57:09][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:57:09][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8w52kmnnm7v|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8w52kmnnm7v|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:57:10][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:57:10][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:57:10][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:57:10][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:57:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:57:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:57:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 13:57:10][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 13:57:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:57:10][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8w52kmnnm7v|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8w52kmnnm7v|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:57:11][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:57:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:57:11][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:57:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:57:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:57:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:57:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:57:11][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:57:11 CST 2017, verifyTime=Thu Aug 10 13:57:11 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:57:11.802, verifyTime=2017-08-10 13:57:11.802, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:57:11.802, verifyTime=2017-08-10 13:57:11.802, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:57:11.802, verifyTime=2017-08-10 13:57:11.802, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:57:11.802, verifyTime=2017-08-10 13:57:11.802, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 13:57:12][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 13:57:11.802, verifyTime=2017-08-10 13:57:11.802, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 13:57:12][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:57:12][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 13:57:12][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 13:57:12][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:57:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:59:52][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 13:59:52][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 13:59:53][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 13:59:53][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 13:59:53][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:59:53 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:59:54][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 13:59:54][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 13:59:54][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 13:59:54][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 13:59:54][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 13:59:54][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 13:59:54][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 13:59:55][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8zoxm45ikmj|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8zoxm45ikmj|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 13:59:56][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 13:59:56][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 13:59:56][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 13:59:56][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555592]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555601, index33555593]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555598, index33555595]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555602, index33555597, index33555599, index33555600]
[INFO] [2017-08-10 13:59:56][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 13:59:56][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k8zoxm45ikmj|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k8zoxm45ikmj|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 13:59:57][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:59:53 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:59:57][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:59:53 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 13:59:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 13:59:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 13:59:57][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 13:59:57][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 13:59:57 CST 2017, verifyTime=Thu Aug 10 13:59:57 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 13:59:58][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 13:59:58][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 13:59:58][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 13:59:58][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 13:59:53 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:00:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:00:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:00:16][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:00:17][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:00:17][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:00:17 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:00:17][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:00:18][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:00:18][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:00:19][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:00:19][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:00:19][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:00:19][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:00:19][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k907dh1nqvo08|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k907dh1nqvo08|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:00:20][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:00:20][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:00:20][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:00:20][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:00:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:00:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:00:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:00:20][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:00:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:00:21][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k907dh1nqvo08|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k907dh1nqvo08|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:00:21][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:00:17 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:00:21][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:00:17 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:00:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:00:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:00:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:00:22.043, verifyTime=2017-08-10 14:00:22.043, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:00:22.043, verifyTime=2017-08-10 14:00:22.043, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:00:22.043, verifyTime=2017-08-10 14:00:22.043, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:00:22.043, verifyTime=2017-08-10 14:00:22.043, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:00:22.043, verifyTime=2017-08-10 14:00:22.043, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:00:22][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:00:22][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:00:22][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:00:22][org.hld.invoice.test.UserDaoTest]email unique: User(id=null, email=15528235793@163.com, password=lhr641214554, name=李浩, jobId=201514146308, phone=18275394839, isManager=false, enabled=false, verificationCode=AS5161, createTime=Thu Aug 10 14:00:22 CST 2017, verifyTime=Thu Aug 10 14:00:22 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:00:22][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:00:17 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:01:15][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:01:15][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4883b407, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d9d1a19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@39c0f4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1794d431, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42e26948, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57baeedf]
[INFO] [2017-08-10 14:01:15][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:01:15][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:01:15][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:01:15 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:01:16][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:01:16][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:01:16][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:01:17][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:01:17][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:01:17][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:01:17][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:01:17][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k91gd21j4kgsy|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k91gd21j4kgsy|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:01:18][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:01:18][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:01:18][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:01:18][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555604]
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 14:01:18][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555613, index33555605]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555610, index33555607]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555612, index33555614, index33555611, index33555609]
[INFO] [2017-08-10 14:01:19][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:01:19][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k91gd21j4kgsy|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k91gd21j4kgsy|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:01:19][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:01:15 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:01:19][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:01:15 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:01:19][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:01:19][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:01:19][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:01:20][org.springframework.test.context.transaction.TransactionContext]Began transaction (1) for test context [DefaultTestContext@4a5905d9 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@257cc1fc testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate4.HibernateTransactionManager@6c2f1700]; rollback [true]
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 14:01:20][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:01:20][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]saved user: User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]modify auth: User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:01:20][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:01:20 CST 2017, verifyTime=Thu Aug 10 14:01:20 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:01:20][org.springframework.test.context.transaction.TransactionContext]Rolled back transaction for test context [DefaultTestContext@4a5905d9 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = java.lang.IllegalArgumentException: id to load is required for loading, mergedContextConfiguration = [MergedContextConfiguration@257cc1fc testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
[INFO] [2017-08-10 14:01:20][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:01:15 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:02:12][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:02:12][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4883b407, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d9d1a19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@39c0f4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1794d431, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42e26948, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57baeedf]
[INFO] [2017-08-10 14:02:12][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:02:12][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:02:12][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:02:12 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:02:13][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:02:13][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:02:14][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:02:14][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:02:14][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:02:14][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:02:14][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:02:14][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k92ofk1abtwry|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k92ofk1abtwry|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:02:15][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:02:15][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:02:15][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:02:15][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:02:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:02:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:02:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:02:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:02:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:02:15][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k92ofk1abtwry|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k92ofk1abtwry|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:02:16][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:02:12 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:02:16][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:02:12 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:02:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:02:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:02:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:02:16][org.springframework.test.context.transaction.TransactionContext]Began transaction (1) for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate4.HibernateTransactionManager@2392212b]; rollback [true]
[INFO] [2017-08-10 14:02:16][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:02:16 CST 2017, verifyTime=Thu Aug 10 14:02:16 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:02:17][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:02:17][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 14:02:17][org.hld.invoice.test.UserDaoTest]email unique: User(id=null, email=15528235793@163.com, password=lhr641214554, name=李浩, jobId=201514146308, phone=18275394839, isManager=false, enabled=false, verificationCode=AS5161, createTime=Thu Aug 10 14:02:17 CST 2017, verifyTime=Thu Aug 10 14:02:17 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:02:17][org.springframework.test.context.transaction.TransactionContext]Rolled back transaction for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
[INFO] [2017-08-10 14:02:17][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:02:12 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:03:50][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:03:50][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@7219ec67, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@45018215, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@65d6b83b, org.springframework.test.context.support.DirtiesContextTestExecutionListener@d706f19, org.springframework.test.context.transaction.TransactionalTestExecutionListener@30b7c004, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@79efed2d]
[INFO] [2017-08-10 14:03:50][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:03:51][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:03:51][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@31d7b7bf: startup date [Thu Aug 10 14:03:51 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:03:51][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:03:52][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:03:52][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:03:52][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:03:52][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:03:52][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:03:52][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:03:52][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k94sccjcum22|4a335fa8, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k94sccjcum22|4a335fa8, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:03:53][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:03:53][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:03:53][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:03:53][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555616]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555625, index33555617]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555622, index33555619]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555623, index33555624, index33555626, index33555621]
[INFO] [2017-08-10 14:03:54][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:03:54][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k94sccjcum22|4a335fa8, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k94sccjcum22|4a335fa8, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:03:55][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@31d7b7bf: startup date [Thu Aug 10 14:03:51 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:03:55][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@31d7b7bf: startup date [Thu Aug 10 14:03:51 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:03:55][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:03:55][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:03:55][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:03:56][org.springframework.test.context.transaction.TransactionContext]Began transaction (1) for test context [DefaultTestContext@3e377967 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@38ee7a9d testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate4.HibernateTransactionManager@4acc5dff]; rollback [true]
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]saved user: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]modify auth: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:03:56][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:05:46][org.hld.invoice.test.UserDaoTest]get user by id: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:05:50][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:05:52][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:05:54][org.hld.invoice.test.UserDaoTest]find all user: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:05:55][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:05:55][org.hld.invoice.test.UserDaoTest]find user by email: User(id=3, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:03:56 CST 2017, verifyTime=Thu Aug 10 14:03:56 CST 2017, image=null, authority=Authority(id=3, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:06:02][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:06:02][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 14:06:02][org.hld.invoice.test.UserDaoTest]email unique: User(id=null, email=15528235793@163.com, password=lhr641214554, name=李浩, jobId=201514146308, phone=18275394839, isManager=false, enabled=false, verificationCode=AS5161, createTime=Thu Aug 10 14:05:57 CST 2017, verifyTime=Thu Aug 10 14:05:57 CST 2017, image=null, authority=Authority(id=4, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:06:11][org.springframework.test.context.transaction.TransactionContext]Rolled back transaction for test context [DefaultTestContext@3e377967 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@38ee7a9d testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
[INFO] [2017-08-10 14:06:11][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@31d7b7bf: startup date [Thu Aug 10 14:03:51 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:09:47][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:09:47][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4883b407, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d9d1a19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@39c0f4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1794d431, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42e26948, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57baeedf]
[INFO] [2017-08-10 14:09:47][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:09:48][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:09:48][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:09:48 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:09:48][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:09:48][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:09:49][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:09:49][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:09:49][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:09:49][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:09:49][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:09:50][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9cfpd13symsy|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9cfpd13symsy|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:09:50][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:09:50][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:09:50][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:09:50][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:09:51][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:09:51][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:09:51][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:09:51][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:09:51][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:09:51][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9cfpd13symsy|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9cfpd13symsy|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:09:52][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:09:48 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:09:52][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:09:48 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:09:52][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:09:52][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:09:52][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:09:52][org.springframework.test.context.transaction.TransactionContext]Began transaction (1) for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate4.HibernateTransactionManager@2392212b]; rollback [true]
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:09:52][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:09:52][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[INFO] [2017-08-10 14:09:52][org.hld.invoice.test.UserDaoTest]email unique: User(id=null, email=15528235793@163.com, password=lhr641214554, name=李浩, jobId=201514146308, phone=18275394839, isManager=false, enabled=false, verificationCode=AS5161, createTime=Thu Aug 10 14:09:52 CST 2017, verifyTime=Thu Aug 10 14:09:52 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:09:52][org.springframework.test.context.transaction.TransactionContext]Rolled back transaction for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
[INFO] [2017-08-10 14:09:52][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:09:48 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:11:12][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:11:12][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@4883b407, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@7d9d1a19, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@39c0f4a, org.springframework.test.context.support.DirtiesContextTestExecutionListener@1794d431, org.springframework.test.context.transaction.TransactionalTestExecutionListener@42e26948, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@57baeedf]
[INFO] [2017-08-10 14:11:12][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:11:12][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:11:13][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:11:13 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:11:13][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:11:13][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:11:14][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:11:14][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:11:14][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:11:14][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:11:14][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:11:14][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9e97sbgt9wm|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9e97sbgt9wm|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:11:15][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:11:15][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:11:15][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:11:15][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:11:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:11:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:11:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:11:15][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:11:15][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:11:16][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9e97sbgt9wm|485966cc, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9e97sbgt9wm|485966cc, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:11:16][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:11:13 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:11:16][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:11:13 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:11:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:11:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:11:16][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:11:17][org.springframework.test.context.transaction.TransactionContext]Began transaction (1) for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]]; transaction manager [org.springframework.orm.hibernate4.HibernateTransactionManager@2392212b]; rollback [true]
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:11:17][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:11:17 CST 2017, verifyTime=Thu Aug 10 14:11:17 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:11:17][org.springframework.test.context.transaction.TransactionContext]Rolled back transaction for test context [DefaultTestContext@9255c05 testClass = UserDaoTest, testInstance = null(org.hld.invoice.test.UserDaoTest), testMethod = testAll@UserDaoTest, testException = [null], mergedContextConfiguration = [MergedContextConfiguration@2a389173 testClass = UserDaoTest, locations = '{classpath:/META-INF/applicationContext.xml, classpath:/META-INF/spring-mvc.xml}', classes = '{}', contextInitializerClasses = '[]', activeProfiles = '{}', propertySourceLocations = '{}', propertySourceProperties = '{}', contextCustomizers = set[[empty]], contextLoader = 'org.springframework.test.context.support.DelegatingSmartContextLoader', parent = [null]]].
[INFO] [2017-08-10 14:11:17][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@6c3708b3: startup date [Thu Aug 10 14:11:13 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:12:28][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:12:28][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:12:28][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:12:29][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:12:29][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:12:29 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:12:29][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:12:30][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:12:30][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:12:30][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:12:30][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:12:30][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:12:30][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:12:31][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9fw3p8uikbz|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9fw3p8uikbz|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:12:31][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:12:31][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:12:31][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:12:31][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:12:32][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:12:32][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:12:32][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:12:32][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:12:32][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:12:32][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9fw3p8uikbz|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9fw3p8uikbz|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:12:33][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:12:29 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:12:33][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:12:29 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:12:33][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:12:33][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:12:33][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:12:33][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:12:33 CST 2017, verifyTime=Thu Aug 10 14:12:33 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:12:33.968, verifyTime=2017-08-10 14:12:33.968, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:12:33.968, verifyTime=2017-08-10 14:12:33.968, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:12:33.968, verifyTime=2017-08-10 14:12:33.968, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:12:33.968, verifyTime=2017-08-10 14:12:33.968, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:12:34][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:12:33.968, verifyTime=2017-08-10 14:12:33.968, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:12:34][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:12:29 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:14:36][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:14:36][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:14:36][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:14:36][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:14:37][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:14:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:14:37][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:14:37][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:14:38][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:14:38][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:14:38][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:14:38][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:14:38][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:14:38][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9imif13ydhkw|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9imif13ydhkw|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:14:39][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:14:39][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:14:39][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:14:39][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:14:39][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555650]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555659, index33555651]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555656, index33555653]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555657, index33555658, index33555655, index33555660]
[INFO] [2017-08-10 14:14:40][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:14:40][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1k9imif13ydhkw|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1k9imif13ydhkw|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:14:40][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:14:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:14:40][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:14:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:14:40][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:14:40][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:14:40][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]saved user: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify auth: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:14:41 CST 2017, verifyTime=Thu Aug 10 14:14:41 CST 2017, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]get user by id: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:14:41.127, verifyTime=2017-08-10 14:14:41.127, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:14:41.127, verifyTime=2017-08-10 14:14:41.127, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:14:41.127, verifyTime=2017-08-10 14:14:41.127, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]find all user: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:14:41.127, verifyTime=2017-08-10 14:14:41.127, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:14:41][org.hld.invoice.test.UserDaoTest]find user by email: User(id=2, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:14:41.127, verifyTime=2017-08-10 14:14:41.127, image=null, authority=Authority(id=2, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:14:41][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:14:41][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:14:41][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:14:41][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:14:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:28:28][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:28:28][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:28:28][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:28:28][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:28:28][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:28:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:28:29][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:28:29][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:28:29][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:28:30][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:28:30][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:28:30][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:28:30][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:28:30][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1ka0g8p1jj8033|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1ka0g8p1jj8033|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:28:31][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:28:31][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:28:31][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:28:31][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555650]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555659, index33555651]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555653, index33555661]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555657, index33555658, index33555655, index33555660]
[INFO] [2017-08-10 14:28:31][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:28:31][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1ka0g8p1jj8033|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1ka0g8p1jj8033|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:28:32][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:28:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:28:32][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:28:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:28:32][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:28:32][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:28:32][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:28:32][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:28:32 CST 2017, verifyTime=Thu Aug 10 14:28:32 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 14:28:33][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:28:33][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:28:33][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:28:33][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:28:28 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:44:03][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:44:03][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:44:03][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:44:03][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:44:03][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:44:03 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:44:04][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:44:04][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:44:04][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:44:05][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:44:05][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:44:05][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:44:05][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:44:05][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kakhs51540oea|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kakhs51540oea|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:44:06][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:44:06][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:44:06][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:44:06][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:44:06][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:44:06][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:44:06][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:44:06][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:44:06][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:44:06][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kakhs51540oea|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kakhs51540oea|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:44:07][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:44:03 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:44:07][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:44:03 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:44:07][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:44:07][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:44:07][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:44:07][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:44:07 CST 2017, verifyTime=Thu Aug 10 14:44:07 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:44:07.869, verifyTime=2017-08-10 14:44:07.869, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:44:07.869, verifyTime=2017-08-10 14:44:07.869, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:44:07.869, verifyTime=2017-08-10 14:44:07.869, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:44:07.869, verifyTime=2017-08-10 14:44:07.869, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:44:07.869, verifyTime=2017-08-10 14:44:07.869, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:44:08][org.hld.invoice.test.UserDaoTest]email unique: User(id=null, email=15528235793@163.com, password=lhr641214554, name=李浩, jobId=201514146308, phone=18275394839, isManager=false, enabled=false, verificationCode=AS5161, createTime=Thu Aug 10 14:44:08 CST 2017, verifyTime=Thu Aug 10 14:44:08 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:44:08][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:44:03 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:45:04][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:45:04][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:45:04][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:45:04][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:45:04][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:45:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:45:05][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:45:05][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:45:05][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:45:05][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:45:05][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:45:05][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:45:05][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:45:06][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kalsrd1tuvrjk|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kalsrd1tuvrjk|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:45:06][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:45:06][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:45:07][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:45:07][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:45:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:45:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:45:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:45:07][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:45:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:45:07][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kalsrd1tuvrjk|43dac38f, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kalsrd1tuvrjk|43dac38f, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:45:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:45:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:45:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:45:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:45:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:45:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:45:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:45:08 CST 2017, verifyTime=Thu Aug 10 14:45:08 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:45:08.496, verifyTime=2017-08-10 14:45:08.496, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:45:08.496, verifyTime=2017-08-10 14:45:08.496, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:45:08][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:45:08.496, verifyTime=2017-08-10 14:45:08.496, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:45:09][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:45:08.496, verifyTime=2017-08-10 14:45:08.496, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:45:09][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:45:09][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:45:08.496, verifyTime=2017-08-10 14:45:08.496, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:45:09][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:45:09][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:45:09][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:45:09][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:45:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:51:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:51:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:51:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:51:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:51:08][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:51:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:51:08][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:51:08][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:51:09][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:51:09][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:51:09][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:51:09][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:51:09][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:51:09][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1katl5m1afl0y|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1katl5m1afl0y|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:51:10][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:51:10][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:51:10][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:51:10][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:51:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:51:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:51:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:51:11][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:51:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:51:11][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1katl5m1afl0y|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1katl5m1afl0y|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:51:12][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:51:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:51:12][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:51:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:51:12][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:51:12][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:51:12][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:51:12 CST 2017, verifyTime=Thu Aug 10 14:51:12 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:51:12.325, verifyTime=2017-08-10 14:51:12.325, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:51:12.325, verifyTime=2017-08-10 14:51:12.325, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:51:12.325, verifyTime=2017-08-10 14:51:12.325, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:51:12.325, verifyTime=2017-08-10 14:51:12.325, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:51:12][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:51:12.325, verifyTime=2017-08-10 14:51:12.325, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[WARN] [2017-08-10 14:51:12][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:51:12][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:51:12][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:51:12][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:51:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:30][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:53:31][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:53:31][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:53:31][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:53:31][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:31 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:32][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:53:32][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:53:32][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:53:33][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:53:33][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:53:33][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:53:33][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:53:33][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kawo201u31z35|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kawo201u31z35|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:53:34][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:53:34][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:53:34][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:53:34][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555685]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555686, index33555694]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555688, index33555691]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555692, index33555693, index33555695, index33555690]
[INFO] [2017-08-10 14:53:35][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:53:35][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kawo201u31z35|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kawo201u31z35|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:53:36][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:31 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:36][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:31 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:36][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:53:36][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:53:36][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:53:36][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:36 CST 2017, verifyTime=Thu Aug 10 14:53:36 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 14:53:37][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 14:53:37][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 14:53:37][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 14:53:37][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:31 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:41][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 14:53:41][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 14:53:41][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 14:53:41][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 14:53:42][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:42 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:42][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 14:53:42][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 14:53:43][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 14:53:43][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 14:53:43][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 14:53:43][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 14:53:43][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 14:53:43][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kaww0m2rij0m|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kaww0m2rij0m|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 14:53:44][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 14:53:44][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 14:53:44][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 14:53:44][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 14:53:45][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 14:53:45][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 14:53:45][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 14:53:45][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 14:53:45][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 14:53:45][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kaww0m2rij0m|f0da945, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kaww0m2rij0m|f0da945, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 14:53:45][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:42 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:45][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:42 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 14:53:46][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 14:53:46][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 14:53:46][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 14:53:46 CST 2017, verifyTime=Thu Aug 10 14:53:46 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:53:46.221, verifyTime=2017-08-10 14:53:46.221, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:53:46.221, verifyTime=2017-08-10 14:53:46.221, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:53:46.221, verifyTime=2017-08-10 14:53:46.221, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:53:46.221, verifyTime=2017-08-10 14:53:46.221, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 14:53:46][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 14:53:46.221, verifyTime=2017-08-10 14:53:46.221, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 14:53:46][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 14:53:42 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:13:45][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:13:45][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 15:13:46][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:13:46][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:13:46][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:13:46 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:13:46][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:13:47][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:13:47][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:13:47][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:13:47][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:13:47][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:13:47][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:13:48][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbmpe34izrx|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbmpe34izrx|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:13:48][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:13:48][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:13:49][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:13:49][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555697]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555698, index33555706]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555700, index33555703]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555702, index33555704, index33555705, index33555707]
[INFO] [2017-08-10 15:13:49][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:13:49][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbmpe34izrx|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbmpe34izrx|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:13:50][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:13:46 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:13:50][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:13:46 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:13:50][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:13:50][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:13:50][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:13:50][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:13:50 CST 2017, verifyTime=Thu Aug 10 15:13:50 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[WARN] [2017-08-10 15:13:50][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]SQL Error: -6602, SQLState: 22000
[ERROR] [2017-08-10 15:13:50][org.hibernate.engine.jdbc.spi.SqlExceptionHelper]违反表[USERS]唯一性约束
[ERROR] [2017-08-10 15:13:50][org.hibernate.AssertionFailure]HHH000099: an assertion failure occured (this may indicate a bug in Hibernate, but is more likely due to unsafe use of the session): org.hibernate.AssertionFailure: null id in org.hld.invoice.entity.User entry (don't flush the Session after an exception occurs)
[INFO] [2017-08-10 15:13:50][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:13:46 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:14:18][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:14:18][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 15:14:18][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:14:19][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:14:19][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:14:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:14:19][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:14:20][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:14:20][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:14:20][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:14:20][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:14:20][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:14:20][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:14:21][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbnesqftvz4p|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbnesqftvz4p|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:14:21][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:14:21][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:14:22][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:14:22][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:14:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:14:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:14:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: authority
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: detail
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: invoice
[INFO] [2017-08-10 15:14:22][java.sql.DatabaseMetaData]HHH000262: Table not found: users
[INFO] [2017-08-10 15:14:22][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:14:22][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbnesqftvz4p|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbnesqftvz4p|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:14:23][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:14:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:14:23][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:14:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:14:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:14:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:14:23][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:14:23][org.hld.invoice.test.UserDaoTest]init user:User(id=null, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=null, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:23][org.hld.invoice.test.UserDaoTest]saved user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=false, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:23][org.hld.invoice.test.UserDaoTest]modify enabled: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:23][org.hld.invoice.test.UserDaoTest]modify enabled done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=false, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:23][org.hld.invoice.test.UserDaoTest]modify auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]modify auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=Thu Aug 10 15:14:23 CST 2017, verifyTime=Thu Aug 10 15:14:23 CST 2017, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]get user by id: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=false, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 15:14:23.574, verifyTime=2017-08-10 15:14:23.574, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=false))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]modify manager and auth: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 15:14:23.574, verifyTime=2017-08-10 15:14:23.574, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]modify manager and auth done: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 15:14:23.574, verifyTime=2017-08-10 15:14:23.574, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]find all user: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 15:14:23.574, verifyTime=2017-08-10 15:14:23.574, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]user size: 1
[INFO] [2017-08-10 15:14:24][org.hld.invoice.test.UserDaoTest]find user by email: User(id=1, email=15528235793@163.com, password=lhr6412145, name=李浩然, jobId=2015141463087, phone=15528235793, isManager=true, enabled=true, verificationCode=ASDF5169861, createTime=2017-08-10 15:14:23.574, verifyTime=2017-08-10 15:14:23.574, image=null, authority=Authority(id=1, queryInvoice=false, modifyInvoice=false, addInvoice=true, removeInvoice=false, queryReport=false, manageUser=true))
[INFO] [2017-08-10 15:14:24][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:14:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:15:13][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:15:13][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@3bfdc050, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@1bce4f0a, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@5e3a8624, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5c3bd550, org.springframework.test.context.transaction.TransactionalTestExecutionListener@91161c7, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@604ed9f0]
[INFO] [2017-08-10 15:15:14][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:15:14][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:15:14][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:15:14 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:15:15][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:15:15][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:15:15][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:15:16][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:15:16][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:15:16][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:15:16][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:15:16][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbolef1809z1|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbolef1809z1|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:15:17][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:15:17][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:15:17][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:15:17][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555715]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:15:17][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:15:17][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kbolef1809z1|ffaa6af, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kbolef1809z1|ffaa6af, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:15:18][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:15:14 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:15:18][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:15:14 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:15:18][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:15:18][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:15:18][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:15:18][org.hld.invoice.test.InvoiceDaoTest]init invoice: Invoice(id=null, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=, details=[InvoiceDetail(detailId=null, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375), InvoiceDetail(detailId=null, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]saved invoice: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=, details=[InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375), InvoiceDetail(detailId=2, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]get by id: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]get by unique: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]modify invoice: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]modify invoice: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]modify invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]modify invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=1, detailName=水壶, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]remove invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]remove invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]add invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545), InvoiceDetail(detailId=null, detailName=新袋子, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375)])
[INFO] [2017-08-10 15:15:19][org.hld.invoice.test.InvoiceDaoTest]add invoiceDetail: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=3, detailName=新袋子, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375), InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:15:19][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@2286778: startup date [Thu Aug 10 15:15:14 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:25:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:25:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:25:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:25:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:25:07][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:25:07 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:25:08][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:25:08][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:25:08][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:25:09][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:25:09][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:25:09][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:25:09][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:25:09][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc1azpxwbx9t|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc1azpxwbx9t|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:25:10][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:25:10][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:25:10][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:25:10][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:25:10][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555720]
[INFO] [2017-08-10 15:25:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:25:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:25:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:25:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:25:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:25:11][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc1azpxwbx9t|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc1azpxwbx9t|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:25:11][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:25:07 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:25:11][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:25:07 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:25:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:25:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:25:11][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:25:12][org.hld.invoice.test.InvoiceDaoTest]invoice: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=3, detailName=新袋子, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375), InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:25:12][org.hld.invoice.test.InvoiceDaoTest]deleted invoice: Invoice(id=1, invoiceId=25733284, invoiceCode=8724257851, invoiceDate=2017-08-10, buyerName=四川大学软件学院, buyerId=, sellerName=保定市品诺商贸有限公司, sellerId=, totalAmount=72.0, totalTax=7.92, total=79.92, remark=Test update, details=[InvoiceDetail(detailId=3, detailName=新袋子, specification=, unitName=个, quantity=1, unitPrice=12.5, amount=12.5, taxRate=0.11, taxSum=1.375), InvoiceDetail(detailId=2, detailName=水壶袋子, specification=这是一个水袋, unitName=个, quantity=5, unitPrice=11.9, amount=59.5, taxRate=0.11, taxSum=6.545)])
[INFO] [2017-08-10 15:25:12][org.hld.invoice.test.InvoiceDaoTest]
[INFO] [2017-08-10 15:25:12][org.hld.invoice.test.InvoiceDaoTest]0
[INFO] [2017-08-10 15:25:12][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:25:07 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:28:03][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:28:03][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:28:03][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:28:04][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:28:04][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:28:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:28:04][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:28:05][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:28:05][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:28:05][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:28:05][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:28:05][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:28:05][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:28:06][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc53ak1eznsr2|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc53ak1eznsr2|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:28:07][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:28:07][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:28:07][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:28:07][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555721]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:28:07][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:28:08][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc53ak1eznsr2|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc53ak1eznsr2|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:28:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:28:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:28:08][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:28:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:28:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:28:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:28:08][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:28:09][org.hld.invoice.test.InvoiceDaoTest]invoice: null
[INFO] [2017-08-10 15:28:09][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:28:04 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:31:15][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:31:15][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:31:15][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:31:15][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:31:16][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:31:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:31:16][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:31:16][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:31:17][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:31:17][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:31:17][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:31:17][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:31:17][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:31:17][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc973e1qnlt1e|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc973e1qnlt1e|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:31:18][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:31:18][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:31:19][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:31:19][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555722, index33555712]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:31:19][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:31:20][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kc973e1qnlt1e|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kc973e1qnlt1e|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:31:20][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:31:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:31:20][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:31:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:31:20][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:31:20][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:31:20][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:31:21][org.hld.invoice.test.InvoiceDaoTest]invoice: null
[INFO] [2017-08-10 15:31:21][org.hld.invoice.test.InvoiceDaoTest]deleted invoice: null
[INFO] [2017-08-10 15:31:21][org.hld.invoice.test.InvoiceDaoTest]true
[INFO] [2017-08-10 15:31:21][org.hld.invoice.test.InvoiceDaoTest]0
[INFO] [2017-08-10 15:31:21][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:31:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:32:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:32:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:32:16][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:32:16][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:32:16][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:32:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:32:17][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:32:17][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:32:18][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:32:18][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:32:18][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:32:18][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:32:18][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:32:18][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcai8c1mo7x49|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcai8c1mo7x49|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:32:19][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:32:19][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:32:19][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:32:20][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555723]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:32:20][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:32:20][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcai8c1mo7x49|23c30a20, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcai8c1mo7x49|23c30a20, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:32:21][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:32:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:32:21][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:32:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:32:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:32:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:32:21][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:32:22][org.hld.invoice.test.InvoiceDaoTest]invoice: null
[INFO] [2017-08-10 15:32:22][org.hld.invoice.test.InvoiceDaoTest]deleted invoice: null
[INFO] [2017-08-10 15:32:22][org.hld.invoice.test.InvoiceDaoTest]true
[INFO] [2017-08-10 15:32:22][org.hld.invoice.test.InvoiceDaoTest]0
[INFO] [2017-08-10 15:32:22][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:32:16 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:35:34][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:35:34][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:35:34][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:35:34][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:35:34][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:35:34 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:35:35][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:35:35][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:35:36][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:35:36][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:35:36][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:35:36][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:35:36][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:35:36][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcer0t5deet9|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcer0t5deet9|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:35:37][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:35:37][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:35:38][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:35:38][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555724]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:35:38][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:35:38][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcer0t5deet9|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcer0t5deet9|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:35:39][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:35:34 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:35:39][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:35:34 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:35:39][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:35:39][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:35:39][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:35:40][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:35:34 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:36:19][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:36:19][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:36:19][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:36:19][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:36:19][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:36:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:36:20][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:36:20][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:36:21][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:36:21][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:36:21][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:36:21][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:36:21][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:36:21][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcfpp21ubudp8|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcfpp21ubudp8|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:36:22][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:36:22][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:36:23][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:36:23][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555725]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:36:23][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:36:24][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcfpp21ubudp8|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcfpp21ubudp8|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:36:24][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:36:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:36:24][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:36:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:36:24][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:36:24][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:36:24][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:36:25][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:36:19 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:37:36][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:37:36][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:37:36][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:37:37][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:37:37][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:37:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:37:37][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:37:38][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:37:38][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:37:39][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:37:39][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:37:39][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:37:39][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:37:39][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kchdjb1xzmwi4|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kchdjb1xzmwi4|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:37:40][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:37:40][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:37:40][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:37:40][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555726]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:37:41][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:37:41][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kchdjb1xzmwi4|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kchdjb1xzmwi4|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:37:42][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:37:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:37:42][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:37:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:37:42][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:37:42][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:37:42][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:37:42][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:37:37 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:38:55][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:38:55][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:38:55][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:38:55][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:38:55][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:38:55 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:38:56][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:38:56][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:38:57][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:38:57][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:38:57][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:38:57][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:38:57][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:38:57][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcj26tq3024|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcj26tq3024|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:38:58][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:38:58][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:38:59][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:38:59][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555727]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:38:59][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:38:59][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kcj26tq3024|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kcj26tq3024|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:39:00][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:38:55 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:39:00][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:38:55 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:39:00][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:39:00][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:39:00][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:39:01][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:38:55 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:41:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-10 15:41:07][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@57baeedf, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@343f4d3d, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@53b32d7, org.springframework.test.context.support.DirtiesContextTestExecutionListener@5442a311, org.springframework.test.context.transaction.TransactionalTestExecutionListener@548e7350, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@1a968a59]
[INFO] [2017-08-10 15:41:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-10 15:41:07][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-10 15:41:08][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:41:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:41:08][org.springframework.context.support.PropertySourcesPlaceholderConfigurer]Loading properties file from class path resource [config.properties]
[INFO] [2017-08-10 15:41:08][com.mchange.v2.log.MLog]MLog clients using log4j logging.
[INFO] [2017-08-10 15:41:09][com.mchange.v2.c3p0.C3P0Registry]Initializing c3p0-0.9.1.2 [built 21-May-2007 15:04:56; debug? true; trace: 10]
[INFO] [2017-08-10 15:41:09][org.hibernate.annotations.common.Version]HCANN000001: Hibernate Commons Annotations {4.0.4.Final}
[INFO] [2017-08-10 15:41:09][org.hibernate.Version]HHH000412: Hibernate Core {4.3.5.Final}
[INFO] [2017-08-10 15:41:09][org.hibernate.cfg.Environment]HHH000206: hibernate.properties not found
[INFO] [2017-08-10 15:41:09][org.hibernate.cfg.Environment]HHH000021: Bytecode provider name : javassist
[INFO] [2017-08-10 15:41:10][com.mchange.v2.c3p0.impl.AbstractPoolBackedDataSource]Initializing c3p0 pool... com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kclw1x19al0qh|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kclw1x19al0qh|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]
[INFO] [2017-08-10 15:41:11][org.hibernate.dialect.Dialect]HHH000400: Using dialect: org.hibernate.dialect.DmDialect
[INFO] [2017-08-10 15:41:11][org.hibernate.engine.jdbc.internal.LobCreatorBuilder]HHH000424: Disabling contextual LOB creation as createClob() method threw error : java.lang.reflect.InvocationTargetException
[INFO] [2017-08-10 15:41:11][org.hibernate.engine.transaction.internal.TransactionFactoryInitiator]HHH000399: Using default transaction strategy (direct JDBC transactions)
[INFO] [2017-08-10 15:41:11][org.hibernate.hql.internal.ast.ASTQueryTranslatorFactory]HHH000397: Using ASTQueryTranslatorFactory
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000228: Running hbm2ddl schema update
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000102: Fetching database metadata
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000396: Updating schema
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.AUTHORITY
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [remove_invoice, query_invoice, add_invoice, query_report, modify_invoice, id, manager_user]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555709]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.DETAIL
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [unit_name, amount, detail_name, quantity, tax_sum, specification, invoice_id, detail_id, unit_price, tax_rate]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_re5vhpflui8ttipvkjbnre9qy]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555710, index33555718]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.INVOICE
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [invoice_code, total, seller_name, total_amount, buyer_name, invoice_id, remark, id, buyer_id, total_tax, seller_id, invoice_date]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: []
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555712, index33555728]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000261: Table found: SYSDBA.USERS
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000037: Columns: [image, ismanager, create_time, verify_time, authority_id, enabled, password, phone, job_id, name, id, verification_code, email]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000108: Foreign keys: [fk_ld22ky2pkjx9k6l1meeby3fko]
[INFO] [2017-08-10 15:41:11][org.hibernate.tool.hbm2ddl.TableMetadata]HHH000126: Indexes: [index33555714, index33555719, index33555716, index33555717]
[INFO] [2017-08-10 15:41:12][org.hibernate.tool.hbm2ddl.SchemaUpdate]HHH000232: Schema update complete
[INFO] [2017-08-10 15:41:12][org.springframework.orm.hibernate4.HibernateTransactionManager]Using DataSource [com.mchange.v2.c3p0.ComboPooledDataSource [ acquireIncrement -> 3, acquireRetryAttempts -> 30, acquireRetryDelay -> 1000, autoCommitOnClose -> false, automaticTestTable -> null, breakAfterAcquireFailure -> false, checkoutTimeout -> 0, connectionCustomizerClassName -> null, connectionTesterClassName -> com.mchange.v2.c3p0.impl.DefaultConnectionTester, dataSourceName -> 1hge15z9p1kclw1x19al0qh|3cebbb30, debugUnreturnedConnectionStackTraces -> false, description -> null, driverClass -> dm.jdbc.driver.DmDriver, factoryClassLocation -> null, forceIgnoreUnresolvedTransactions -> false, identityToken -> 1hge15z9p1kclw1x19al0qh|3cebbb30, idleConnectionTestPeriod -> 0, initialPoolSize -> 10, jdbcUrl -> jdbc:dm://localhost:5236/DAMENG?useUnicode=true&characterEncoding=utf-8, maxAdministrativeTaskTime -> 0, maxConnectionAge -> 0, maxIdleTime -> 20, maxIdleTimeExcessConnections -> 0, maxPoolSize -> 40, maxStatements -> 0, maxStatementsPerConnection -> 0, minPoolSize -> 1, numHelperThreads -> 3, numThreadsAwaitingCheckoutDefaultUser -> 0, preferredTestQuery -> null, properties -> {user=******, password=******}, propertyCycle -> 0, testConnectionOnCheckin -> false, testConnectionOnCheckout -> false, unreturnedConnectionTimeout -> 0, usesTraditionalReflectiveProxies -> false ]] of Hibernate SessionFactory for HibernateTransactionManager
[INFO] [2017-08-10 15:41:13][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:41:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:41:13][org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter]Looking for @ControllerAdvice: org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:41:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-10 15:41:13][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/css/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#0'
[INFO] [2017-08-10 15:41:13][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/*.html] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#1'
[INFO] [2017-08-10 15:41:13][org.springframework.web.servlet.handler.SimpleUrlHandlerMapping]Mapped URL path [/js/**] onto handler 'org.springframework.web.servlet.resource.ResourceHttpRequestHandler#2'
[INFO] [2017-08-10 15:41:13][org.springframework.context.support.GenericApplicationContext]Closing org.springframework.context.support.GenericApplicationContext@185d8b6: startup date [Thu Aug 10 15:41:08 CST 2017]; root of context hierarchy
[INFO] [2017-08-14 10:26:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:26:16][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:26:16][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-14 10:26:16][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-14 10:26:17][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@3cef309d: startup date [Mon Aug 14 10:26:17 CST 2017]; root of context hierarchy
[WARN] [2017-08-14 10:26:18][org.springframework.context.support.GenericApplicationContext]Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
[ERROR] [2017-08-14 10:26:18][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:223)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.processProperties(PropertySourcesPlaceholderConfigurer.java:180)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.postProcessBeanFactory(PropertySourcesPlaceholderConfigurer.java:152)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:166)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:219)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:193)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:220)
	... 36 more
[INFO] [2017-08-14 10:26:32][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:26:32][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:26:32][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/applicationContext.xml]
[INFO] [2017-08-14 10:26:33][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-14 10:26:33][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@3cef309d: startup date [Mon Aug 14 10:26:33 CST 2017]; root of context hierarchy
[WARN] [2017-08-14 10:26:33][org.springframework.context.support.GenericApplicationContext]Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
[ERROR] [2017-08-14 10:26:33][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:223)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.processProperties(PropertySourcesPlaceholderConfigurer.java:180)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.postProcessBeanFactory(PropertySourcesPlaceholderConfigurer.java:152)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:166)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:219)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:193)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:220)
	... 36 more
[INFO] [2017-08-14 10:26:59][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:26:59][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:26:59][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-14 10:26:59][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@3cef309d: startup date [Mon Aug 14 10:26:59 CST 2017]; root of context hierarchy
[WARN] [2017-08-14 10:27:00][org.springframework.context.support.GenericApplicationContext]Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
[ERROR] [2017-08-14 10:27:00][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:223)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.processProperties(PropertySourcesPlaceholderConfigurer.java:180)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.postProcessBeanFactory(PropertySourcesPlaceholderConfigurer.java:152)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:166)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:219)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:193)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:220)
	... 36 more
[INFO] [2017-08-14 10:28:39][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:28:39][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:28:39][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-14 10:28:40][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@3cef309d: startup date [Mon Aug 14 10:28:40 CST 2017]; root of context hierarchy
[WARN] [2017-08-14 10:28:40][org.springframework.context.support.GenericApplicationContext]Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
[ERROR] [2017-08-14 10:28:40][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:223)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.processProperties(PropertySourcesPlaceholderConfigurer.java:180)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.postProcessBeanFactory(PropertySourcesPlaceholderConfigurer.java:152)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:166)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:219)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:193)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:220)
	... 36 more
[INFO] [2017-08-14 10:38:23][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:38:23][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:38:23][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [META-INF/spring-mvc.xml]
[INFO] [2017-08-14 10:38:23][org.springframework.context.support.GenericApplicationContext]Refreshing org.springframework.context.support.GenericApplicationContext@3cef309d: startup date [Mon Aug 14 10:38:23 CST 2017]; root of context hierarchy
[WARN] [2017-08-14 10:38:24][org.springframework.context.support.GenericApplicationContext]Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
[ERROR] [2017-08-14 10:38:24][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.BeanDefinitionStoreException: Invalid bean definition with name 'dataSource' defined in class path resource [META-INF/spring-mvc.xml]: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"; nested exception is java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:223)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.processProperties(PropertySourcesPlaceholderConfigurer.java:180)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer.postProcessBeanFactory(PropertySourcesPlaceholderConfigurer.java:152)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:284)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:166)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:681)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:523)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:128)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: java.lang.IllegalArgumentException: Could not resolve placeholder 'jdbc.driver' in string value "${jdbc.driver}"
	at org.springframework.util.PropertyPlaceholderHelper.parseStringValue(PropertyPlaceholderHelper.java:174)
	at org.springframework.util.PropertyPlaceholderHelper.replacePlaceholders(PropertyPlaceholderHelper.java:126)
	at org.springframework.core.env.AbstractPropertyResolver.doResolvePlaceholders(AbstractPropertyResolver.java:219)
	at org.springframework.core.env.AbstractPropertyResolver.resolveRequiredPlaceholders(AbstractPropertyResolver.java:193)
	at org.springframework.context.support.PropertySourcesPlaceholderConfigurer$2.resolveStringValue(PropertySourcesPlaceholderConfigurer.java:172)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveStringValue(BeanDefinitionVisitor.java:282)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.resolveValue(BeanDefinitionVisitor.java:204)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitPropertyValues(BeanDefinitionVisitor.java:141)
	at org.springframework.beans.factory.config.BeanDefinitionVisitor.visitBeanDefinition(BeanDefinitionVisitor.java:82)
	at org.springframework.beans.factory.config.PlaceholderConfigurerSupport.doProcessProperties(PlaceholderConfigurerSupport.java:220)
	... 36 more
[INFO] [2017-08-14 10:38:56][org.springframework.test.context.support.DefaultTestContextBootstrapper]Loaded default TestExecutionListener class names from location [META-INF/spring.factories]: [org.springframework.test.context.web.ServletTestExecutionListener, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener, org.springframework.test.context.support.DependencyInjectionTestExecutionListener, org.springframework.test.context.support.DirtiesContextTestExecutionListener, org.springframework.test.context.transaction.TransactionalTestExecutionListener, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener]
[INFO] [2017-08-14 10:38:56][org.springframework.test.context.support.DefaultTestContextBootstrapper]Using TestExecutionListeners: [org.springframework.test.context.web.ServletTestExecutionListener@27c20538, org.springframework.test.context.support.DirtiesContextBeforeModesTestExecutionListener@72d818d1, org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e, org.springframework.test.context.support.DirtiesContextTestExecutionListener@59494225, org.springframework.test.context.transaction.TransactionalTestExecutionListener@6e1567f1, org.springframework.test.context.jdbc.SqlScriptsTestExecutionListener@5cb9f472]
[INFO] [2017-08-14 10:38:56][org.springframework.beans.factory.xml.XmlBeanDefinitionReader]Loading XML bean definitions from class path resource [config.properties]
[ERROR] [2017-08-14 10:38:56][org.springframework.test.context.TestContextManager]Caught exception while allowing TestExecutionListener [org.springframework.test.context.support.DependencyInjectionTestExecutionListener@6e06451e] to prepare test instance [null(org.hld.invoice.test.UserDaoTest)]
java.lang.IllegalStateException: Failed to load ApplicationContext
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:124)
	at org.springframework.test.context.support.DefaultTestContext.getApplicationContext(DefaultTestContext.java:83)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.injectDependencies(DependencyInjectionTestExecutionListener.java:117)
	at org.springframework.test.context.support.DependencyInjectionTestExecutionListener.prepareTestInstance(DependencyInjectionTestExecutionListener.java:83)
	at org.springframework.test.context.TestContextManager.prepareTestInstance(TestContextManager.java:230)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.createTest(SpringJUnit4ClassRunner.java:228)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner$1.runReflectiveCall(SpringJUnit4ClassRunner.java:287)
	at org.junit.internal.runners.model.ReflectiveCallable.run(ReflectiveCallable.java:12)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.methodBlock(SpringJUnit4ClassRunner.java:289)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:247)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.runChild(SpringJUnit4ClassRunner.java:94)
	at org.junit.runners.ParentRunner$3.run(ParentRunner.java:290)
	at org.junit.runners.ParentRunner$1.schedule(ParentRunner.java:71)
	at org.junit.runners.ParentRunner.runChildren(ParentRunner.java:288)
	at org.junit.runners.ParentRunner.access$000(ParentRunner.java:58)
	at org.junit.runners.ParentRunner$2.evaluate(ParentRunner.java:268)
	at org.springframework.test.context.junit4.statements.RunBeforeTestClassCallbacks.evaluate(RunBeforeTestClassCallbacks.java:61)
	at org.springframework.test.context.junit4.statements.RunAfterTestClassCallbacks.evaluate(RunAfterTestClassCallbacks.java:70)
	at org.junit.runners.ParentRunner.run(ParentRunner.java:363)
	at org.springframework.test.context.junit4.SpringJUnit4ClassRunner.run(SpringJUnit4ClassRunner.java:191)
	at org.junit.runner.JUnitCore.run(JUnitCore.java:137)
	at com.intellij.junit4.JUnit4IdeaTestRunner.startRunnerWithArgs(JUnit4IdeaTestRunner.java:68)
	at com.intellij.rt.execution.junit.IdeaTestRunner$Repeater.startRunnerWithArgs(IdeaTestRunner.java:47)
	at com.intellij.rt.execution.junit.JUnitStarter.prepareStreamsAndStart(JUnitStarter.java:242)
	at com.intellij.rt.execution.junit.JUnitStarter.main(JUnitStarter.java:70)
Caused by: org.springframework.beans.factory.xml.XmlBeanDefinitionStoreException: Line 1 in XML document from class path resource [config.properties] is invalid; nested exception is org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; 前言中不允许有内容。
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:399)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:336)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.loadBeanDefinitions(XmlBeanDefinitionReader.java:304)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:181)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:217)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:188)
	at org.springframework.beans.factory.support.AbstractBeanDefinitionReader.loadBeanDefinitions(AbstractBeanDefinitionReader.java:252)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadBeanDefinitions(AbstractGenericContextLoader.java:257)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:124)
	at org.springframework.test.context.support.AbstractGenericContextLoader.loadContext(AbstractGenericContextLoader.java:60)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.delegateLoading(AbstractDelegatingSmartContextLoader.java:108)
	at org.springframework.test.context.support.AbstractDelegatingSmartContextLoader.loadContext(AbstractDelegatingSmartContextLoader.java:251)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContextInternal(DefaultCacheAwareContextLoaderDelegate.java:98)
	at org.springframework.test.context.cache.DefaultCacheAwareContextLoaderDelegate.loadContext(DefaultCacheAwareContextLoaderDelegate.java:116)
	... 24 more
Caused by: org.xml.sax.SAXParseException; lineNumber: 1; columnNumber: 1; 前言中不允许有内容。
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.createSAXParseException(ErrorHandlerWrapper.java:203)
	at com.sun.org.apache.xerces.internal.util.ErrorHandlerWrapper.fatalError(ErrorHandlerWrapper.java:177)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:400)
	at com.sun.org.apache.xerces.internal.impl.XMLErrorReporter.reportError(XMLErrorReporter.java:327)
	at com.sun.org.apache.xerces.internal.impl.XMLScanner.reportFatalError(XMLScanner.java:1472)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl$PrologDriver.next(XMLDocumentScannerImpl.java:994)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentScannerImpl.next(XMLDocumentScannerImpl.java:602)
	at com.sun.org.apache.xerces.internal.impl.XMLNSDocumentScannerImpl.next(XMLNSDocumentScannerImpl.java:112)
	at com.sun.org.apache.xerces.internal.impl.XMLDocumentFragmentScannerImpl.scanDocument(XMLDocumentFragmentScannerImpl.java:505)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:841)
	at com.sun.org.apache.xerces.internal.parsers.XML11Configuration.parse(XML11Configuration.java:770)
	at com.sun.org.apache.xerces.internal.parsers.XMLParser.parse(XMLParser.java:141)
	at com.sun.org.apache.xerces.internal.parsers.DOMParser.parse(DOMParser.java:243)
	at com.sun.org.apache.xerces.internal.jaxp.DocumentBuilderImpl.parse(DocumentBuilderImpl.java:339)
	at org.springframework.beans.factory.xml.DefaultDocumentLoader.loadDocument(DefaultDocumentLoader.java:76)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadDocument(XmlBeanDefinitionReader.java:429)
	at org.springframework.beans.factory.xml.XmlBeanDefinitionReader.doLoadBeanDefinitions(XmlBeanDefinitionReader.java:391)
	... 37 more
